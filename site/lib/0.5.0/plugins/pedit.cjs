var u=Object.defineProperty;var l=(o,i)=>u(o,"name",{value:i,configurable:!0});var h=(o,i,r)=>new Promise((n,t)=>{var a=e=>{try{s(r.next(e))}catch(c){t(c)}},m=e=>{try{s(r.throw(e))}catch(c){t(c)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,m);s((r=r.apply(o,i)).next())});module.exports=o=>{function i(n){let t=new Image;return t.src=n,new Promise((a,m)=>{t.onload=()=>{a(t)},t.onerror=()=>{m()}})}l(i,"loadImg");function r(n,t){let a=new Promise((m,s)=>{fetch(o.loadRoot()+t).then(e=>e.json()).then(e=>h(this,null,function*(){let c=yield Promise.all(e.frames.map(i)),g=document.createElement("canvas");g.width=e.width,g.height=e.height*e.frames.length;let d=g.getContext("2d");return c.forEach((f,p)=>{d.drawImage(f,0,p*e.height)}),o.loadSprite(n,g,{sliceY:e.frames.length,anims:e.anims})})).then(e=>{m(e)}).catch(()=>{s(`failed to load sprite '${n}' from '${t}'`)})});return o.addLoader(a),a}return l(r,"loadPedit"),{loadPedit:r}};
//# sourceMappingURL=pedit.cjs.map
