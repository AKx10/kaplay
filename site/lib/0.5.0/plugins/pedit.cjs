var w=Object.defineProperty;var l=(n,i)=>w(n,"name",{value:i,configurable:!0});var h=(n,i,o)=>new Promise((r,t)=>{var a=e=>{try{s(o.next(e))}catch(c){t(c)}},m=e=>{try{s(o.throw(e))}catch(c){t(c)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,m);s((o=o.apply(n,i)).next())});module.exports=n=>{function i(r){let t=new Image;return t.src=r,new Promise((a,m)=>{t.onload=()=>{a(t)},t.onerror=()=>{m(`failed to load ${r}`)}})}l(i,"loadImg");function o(r,t){let a=new Promise((m,s)=>{fetch(n.loadRoot()+t).then(e=>e.json()).then(e=>h(this,null,function*(){let c=yield Promise.all(e.frames.map(i)),g=document.createElement("canvas");g.width=e.width,g.height=e.height*e.frames.length;let d=g.getContext("2d");return c.forEach((f,u)=>{d.drawImage(f,0,u*e.height)}),n.loadSprite(r,g,{sliceY:e.frames.length,anims:e.anims})})).then(m).catch(s)});return n.addLoader(a),a}return l(o,"loadPedit"),{loadPedit:o}};
//# sourceMappingURL=pedit.cjs.map
